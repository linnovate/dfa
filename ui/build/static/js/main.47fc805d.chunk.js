(this.webpackJsonpdfa=this.webpackJsonpdfa||[]).push([[0],{296:function(e,n,c){},304:function(e,n){},306:function(e,n){},316:function(e,n){},318:function(e,n){},34:function(e,n,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var d=c(403);n.User=d,n.packageId="38d610cc56f0710feac1041fa6e2ad7a55231f20c7547d6334b05e45f4e449ac"},345:function(e,n){},347:function(e,n){},348:function(e,n){},353:function(e,n){},355:function(e,n){},361:function(e,n){},363:function(e,n){},382:function(e,n){},394:function(e,n){},397:function(e,n){},403:function(e,n,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var c in e)n.hasOwnProperty(c)||(n[c]=e[c])}(c(404))},404:function(e,n,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var d=c(85),o=c(96),r=(c(72),c(405)),t=c(409);n.Request={templateId:"38d610cc56f0710feac1041fa6e2ad7a55231f20c7547d6334b05e45f4e449ac:User:Request",keyDecoder:o.lazyMemo((function(){return o.lazyMemo((function(){return r.DA.Types.Tuple2(o.Party,o.Text).decoder}))})),keyEncode:function(e){return r.DA.Types.Tuple2(o.Party,o.Text).encode(e)},decoder:o.lazyMemo((function(){return d.object({sender:o.Party.decoder,receiver:o.Party.decoder,content:o.Text.decoder})})),encode:function(e){return{sender:o.Party.encode(e.sender),receiver:o.Party.encode(e.receiver),content:o.Text.encode(e.content)}},Archive:{template:function(){return n.Request},choiceName:"Archive",argumentDecoder:o.lazyMemo((function(){return t.DA.Internal.Template.Archive.decoder})),argumentEncode:function(e){return t.DA.Internal.Template.Archive.encode(e)},resultDecoder:o.lazyMemo((function(){return o.Unit.decoder})),resultEncode:function(e){return o.Unit.encode(e)}}},o.registerTemplate(n.Request),n.SendRequest={decoder:o.lazyMemo((function(){return d.object({receiver:o.Party.decoder,content:o.Text.decoder})})),encode:function(e){return{receiver:o.Party.encode(e.receiver),content:o.Text.encode(e.content)}}},n.User={templateId:"38d610cc56f0710feac1041fa6e2ad7a55231f20c7547d6334b05e45f4e449ac:User:User",keyDecoder:o.lazyMemo((function(){return o.lazyMemo((function(){return o.Party.decoder}))})),keyEncode:function(e){return o.Party.encode(e)},decoder:o.lazyMemo((function(){return d.object({username:o.Party.decoder,requests:o.List(n.Request).decoder})})),encode:function(e){return{username:o.Party.encode(e.username),requests:o.List(n.Request).encode(e.requests)}},Archive:{template:function(){return n.User},choiceName:"Archive",argumentDecoder:o.lazyMemo((function(){return t.DA.Internal.Template.Archive.decoder})),argumentEncode:function(e){return t.DA.Internal.Template.Archive.encode(e)},resultDecoder:o.lazyMemo((function(){return o.Unit.decoder})),resultEncode:function(e){return o.Unit.encode(e)}},SendRequest:{template:function(){return n.User},choiceName:"SendRequest",argumentDecoder:o.lazyMemo((function(){return n.SendRequest.decoder})),argumentEncode:function(e){return n.SendRequest.encode(e)},resultDecoder:o.lazyMemo((function(){return o.ContractId(n.Admin).decoder})),resultEncode:function(e){return o.ContractId(n.Admin).encode(e)}}},o.registerTemplate(n.User),n.Admin={templateId:"38d610cc56f0710feac1041fa6e2ad7a55231f20c7547d6334b05e45f4e449ac:User:Admin",keyDecoder:o.lazyMemo((function(){return o.lazyMemo((function(){return o.Party.decoder}))})),keyEncode:function(e){return o.Party.encode(e)},decoder:o.lazyMemo((function(){return d.object({adminame:o.Party.decoder,requests:o.List(n.Request).decoder})})),encode:function(e){return{adminame:o.Party.encode(e.adminame),requests:o.List(n.Request).encode(e.requests)}},Archive:{template:function(){return n.Admin},choiceName:"Archive",argumentDecoder:o.lazyMemo((function(){return t.DA.Internal.Template.Archive.decoder})),argumentEncode:function(e){return t.DA.Internal.Template.Archive.encode(e)},resultDecoder:o.lazyMemo((function(){return o.Unit.decoder})),resultEncode:function(e){return o.Unit.encode(e)}}},o.registerTemplate(n.Admin)},405:function(e,n,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var d=c(406);n.DA=d,n.packageId="40f452260bef3f29dede136108fc08a88d5a5250310281067087da6f0baddff7"},406:function(e,n,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var d=c(407);n.Types=d},407:function(e,n,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var c in e)n.hasOwnProperty(c)||(n[c]=e[c])}(c(408))},408:function(e,n,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var d=c(85),o=c(96);c(72);n.Either=function(e,n){return{decoder:o.lazyMemo((function(){return d.oneOf(d.object({tag:d.constant("Left"),value:e.decoder}),d.object({tag:d.constant("Right"),value:n.decoder}))})),encode:function(c){switch(c.tag){case"Left":return{tag:c.tag,value:e.encode(c.value)};case"Right":return{tag:c.tag,value:n.encode(c.value)};default:throw"unrecognized type tag: "+c.tag+" while serializing a value of type Either"}}}},n.Tuple2=function(e,n){return{decoder:o.lazyMemo((function(){return d.object({_1:e.decoder,_2:n.decoder})})),encode:function(c){return{_1:e.encode(c._1),_2:n.encode(c._2)}}}},n.Tuple3=function(e,n,c){return{decoder:o.lazyMemo((function(){return d.object({_1:e.decoder,_2:n.decoder,_3:c.decoder})})),encode:function(d){return{_1:e.encode(d._1),_2:n.encode(d._2),_3:c.encode(d._3)}}}},n.Tuple4=function(e,n,c,r){return{decoder:o.lazyMemo((function(){return d.object({_1:e.decoder,_2:n.decoder,_3:c.decoder,_4:r.decoder})})),encode:function(d){return{_1:e.encode(d._1),_2:n.encode(d._2),_3:c.encode(d._3),_4:r.encode(d._4)}}}},n.Tuple5=function(e,n,c,r,t){return{decoder:o.lazyMemo((function(){return d.object({_1:e.decoder,_2:n.decoder,_3:c.decoder,_4:r.decoder,_5:t.decoder})})),encode:function(d){return{_1:e.encode(d._1),_2:n.encode(d._2),_3:c.encode(d._3),_4:r.encode(d._4),_5:t.encode(d._5)}}}},n.Tuple6=function(e,n,c,r,t,_){return{decoder:o.lazyMemo((function(){return d.object({_1:e.decoder,_2:n.decoder,_3:c.decoder,_4:r.decoder,_5:t.decoder,_6:_.decoder})})),encode:function(d){return{_1:e.encode(d._1),_2:n.encode(d._2),_3:c.encode(d._3),_4:r.encode(d._4),_5:t.encode(d._5),_6:_.encode(d._6)}}}},n.Tuple7=function(e,n,c,r,t,_,u){return{decoder:o.lazyMemo((function(){return d.object({_1:e.decoder,_2:n.decoder,_3:c.decoder,_4:r.decoder,_5:t.decoder,_6:_.decoder,_7:u.decoder})})),encode:function(d){return{_1:e.encode(d._1),_2:n.encode(d._2),_3:c.encode(d._3),_4:r.encode(d._4),_5:t.encode(d._5),_6:_.encode(d._6),_7:u.encode(d._7)}}}},n.Tuple8=function(e,n,c,r,t,_,u,a){return{decoder:o.lazyMemo((function(){return d.object({_1:e.decoder,_2:n.decoder,_3:c.decoder,_4:r.decoder,_5:t.decoder,_6:_.decoder,_7:u.decoder,_8:a.decoder})})),encode:function(d){return{_1:e.encode(d._1),_2:n.encode(d._2),_3:c.encode(d._3),_4:r.encode(d._4),_5:t.encode(d._5),_6:_.encode(d._6),_7:u.encode(d._7),_8:a.encode(d._8)}}}},n.Tuple9=function(e,n,c,r,t,_,u,a,i){return{decoder:o.lazyMemo((function(){return d.object({_1:e.decoder,_2:n.decoder,_3:c.decoder,_4:r.decoder,_5:t.decoder,_6:_.decoder,_7:u.decoder,_8:a.decoder,_9:i.decoder})})),encode:function(d){return{_1:e.encode(d._1),_2:n.encode(d._2),_3:c.encode(d._3),_4:r.encode(d._4),_5:t.encode(d._5),_6:_.encode(d._6),_7:u.encode(d._7),_8:a.encode(d._8),_9:i.encode(d._9)}}}},n.Tuple10=function(e,n,c,r,t,_,u,a,i,s){return{decoder:o.lazyMemo((function(){return d.object({_1:e.decoder,_2:n.decoder,_3:c.decoder,_4:r.decoder,_5:t.decoder,_6:_.decoder,_7:u.decoder,_8:a.decoder,_9:i.decoder,_10:s.decoder})})),encode:function(d){return{_1:e.encode(d._1),_2:n.encode(d._2),_3:c.encode(d._3),_4:r.encode(d._4),_5:t.encode(d._5),_6:_.encode(d._6),_7:u.encode(d._7),_8:a.encode(d._8),_9:i.encode(d._9),_10:s.encode(d._10)}}}},n.Tuple11=function(e,n,c,r,t,_,u,a,i,s,l){return{decoder:o.lazyMemo((function(){return d.object({_1:e.decoder,_2:n.decoder,_3:c.decoder,_4:r.decoder,_5:t.decoder,_6:_.decoder,_7:u.decoder,_8:a.decoder,_9:i.decoder,_10:s.decoder,_11:l.decoder})})),encode:function(d){return{_1:e.encode(d._1),_2:n.encode(d._2),_3:c.encode(d._3),_4:r.encode(d._4),_5:t.encode(d._5),_6:_.encode(d._6),_7:u.encode(d._7),_8:a.encode(d._8),_9:i.encode(d._9),_10:s.encode(d._10),_11:l.encode(d._11)}}}},n.Tuple12=function(e,n,c,r,t,_,u,a,i,s,l,f){return{decoder:o.lazyMemo((function(){return d.object({_1:e.decoder,_2:n.decoder,_3:c.decoder,_4:r.decoder,_5:t.decoder,_6:_.decoder,_7:u.decoder,_8:a.decoder,_9:i.decoder,_10:s.decoder,_11:l.decoder,_12:f.decoder})})),encode:function(d){return{_1:e.encode(d._1),_2:n.encode(d._2),_3:c.encode(d._3),_4:r.encode(d._4),_5:t.encode(d._5),_6:_.encode(d._6),_7:u.encode(d._7),_8:a.encode(d._8),_9:i.encode(d._9),_10:s.encode(d._10),_11:l.encode(d._11),_12:f.encode(d._12)}}}},n.Tuple13=function(e,n,c,r,t,_,u,a,i,s,l,f,j){return{decoder:o.lazyMemo((function(){return d.object({_1:e.decoder,_2:n.decoder,_3:c.decoder,_4:r.decoder,_5:t.decoder,_6:_.decoder,_7:u.decoder,_8:a.decoder,_9:i.decoder,_10:s.decoder,_11:l.decoder,_12:f.decoder,_13:j.decoder})})),encode:function(d){return{_1:e.encode(d._1),_2:n.encode(d._2),_3:c.encode(d._3),_4:r.encode(d._4),_5:t.encode(d._5),_6:_.encode(d._6),_7:u.encode(d._7),_8:a.encode(d._8),_9:i.encode(d._9),_10:s.encode(d._10),_11:l.encode(d._11),_12:f.encode(d._12),_13:j.encode(d._13)}}}},n.Tuple14=function(e,n,c,r,t,_,u,a,i,s,l,f,j,m){return{decoder:o.lazyMemo((function(){return d.object({_1:e.decoder,_2:n.decoder,_3:c.decoder,_4:r.decoder,_5:t.decoder,_6:_.decoder,_7:u.decoder,_8:a.decoder,_9:i.decoder,_10:s.decoder,_11:l.decoder,_12:f.decoder,_13:j.decoder,_14:m.decoder})})),encode:function(d){return{_1:e.encode(d._1),_2:n.encode(d._2),_3:c.encode(d._3),_4:r.encode(d._4),_5:t.encode(d._5),_6:_.encode(d._6),_7:u.encode(d._7),_8:a.encode(d._8),_9:i.encode(d._9),_10:s.encode(d._10),_11:l.encode(d._11),_12:f.encode(d._12),_13:j.encode(d._13),_14:m.encode(d._14)}}}},n.Tuple15=function(e,n,c,r,t,_,u,a,i,s,l,f,j,m,b){return{decoder:o.lazyMemo((function(){return d.object({_1:e.decoder,_2:n.decoder,_3:c.decoder,_4:r.decoder,_5:t.decoder,_6:_.decoder,_7:u.decoder,_8:a.decoder,_9:i.decoder,_10:s.decoder,_11:l.decoder,_12:f.decoder,_13:j.decoder,_14:m.decoder,_15:b.decoder})})),encode:function(d){return{_1:e.encode(d._1),_2:n.encode(d._2),_3:c.encode(d._3),_4:r.encode(d._4),_5:t.encode(d._5),_6:_.encode(d._6),_7:u.encode(d._7),_8:a.encode(d._8),_9:i.encode(d._9),_10:s.encode(d._10),_11:l.encode(d._11),_12:f.encode(d._12),_13:j.encode(d._13),_14:m.encode(d._14),_15:b.encode(d._15)}}}},n.Tuple16=function(e,n,c,r,t,_,u,a,i,s,l,f,j,m,b,p){return{decoder:o.lazyMemo((function(){return d.object({_1:e.decoder,_2:n.decoder,_3:c.decoder,_4:r.decoder,_5:t.decoder,_6:_.decoder,_7:u.decoder,_8:a.decoder,_9:i.decoder,_10:s.decoder,_11:l.decoder,_12:f.decoder,_13:j.decoder,_14:m.decoder,_15:b.decoder,_16:p.decoder})})),encode:function(d){return{_1:e.encode(d._1),_2:n.encode(d._2),_3:c.encode(d._3),_4:r.encode(d._4),_5:t.encode(d._5),_6:_.encode(d._6),_7:u.encode(d._7),_8:a.encode(d._8),_9:i.encode(d._9),_10:s.encode(d._10),_11:l.encode(d._11),_12:f.encode(d._12),_13:j.encode(d._13),_14:m.encode(d._14),_15:b.encode(d._15),_16:p.encode(d._16)}}}},n.Tuple17=function(e,n,c,r,t,_,u,a,i,s,l,f,j,m,b,p,y){return{decoder:o.lazyMemo((function(){return d.object({_1:e.decoder,_2:n.decoder,_3:c.decoder,_4:r.decoder,_5:t.decoder,_6:_.decoder,_7:u.decoder,_8:a.decoder,_9:i.decoder,_10:s.decoder,_11:l.decoder,_12:f.decoder,_13:j.decoder,_14:m.decoder,_15:b.decoder,_16:p.decoder,_17:y.decoder})})),encode:function(d){return{_1:e.encode(d._1),_2:n.encode(d._2),_3:c.encode(d._3),_4:r.encode(d._4),_5:t.encode(d._5),_6:_.encode(d._6),_7:u.encode(d._7),_8:a.encode(d._8),_9:i.encode(d._9),_10:s.encode(d._10),_11:l.encode(d._11),_12:f.encode(d._12),_13:j.encode(d._13),_14:m.encode(d._14),_15:b.encode(d._15),_16:p.encode(d._16),_17:y.encode(d._17)}}}},n.Tuple18=function(e,n,c,r,t,_,u,a,i,s,l,f,j,m,b,p,y,h){return{decoder:o.lazyMemo((function(){return d.object({_1:e.decoder,_2:n.decoder,_3:c.decoder,_4:r.decoder,_5:t.decoder,_6:_.decoder,_7:u.decoder,_8:a.decoder,_9:i.decoder,_10:s.decoder,_11:l.decoder,_12:f.decoder,_13:j.decoder,_14:m.decoder,_15:b.decoder,_16:p.decoder,_17:y.decoder,_18:h.decoder})})),encode:function(d){return{_1:e.encode(d._1),_2:n.encode(d._2),_3:c.encode(d._3),_4:r.encode(d._4),_5:t.encode(d._5),_6:_.encode(d._6),_7:u.encode(d._7),_8:a.encode(d._8),_9:i.encode(d._9),_10:s.encode(d._10),_11:l.encode(d._11),_12:f.encode(d._12),_13:j.encode(d._13),_14:m.encode(d._14),_15:b.encode(d._15),_16:p.encode(d._16),_17:y.encode(d._17),_18:h.encode(d._18)}}}},n.Tuple19=function(e,n,c,r,t,_,u,a,i,s,l,f,j,m,b,p,y,h,v){return{decoder:o.lazyMemo((function(){return d.object({_1:e.decoder,_2:n.decoder,_3:c.decoder,_4:r.decoder,_5:t.decoder,_6:_.decoder,_7:u.decoder,_8:a.decoder,_9:i.decoder,_10:s.decoder,_11:l.decoder,_12:f.decoder,_13:j.decoder,_14:m.decoder,_15:b.decoder,_16:p.decoder,_17:y.decoder,_18:h.decoder,_19:v.decoder})})),encode:function(d){return{_1:e.encode(d._1),_2:n.encode(d._2),_3:c.encode(d._3),_4:r.encode(d._4),_5:t.encode(d._5),_6:_.encode(d._6),_7:u.encode(d._7),_8:a.encode(d._8),_9:i.encode(d._9),_10:s.encode(d._10),_11:l.encode(d._11),_12:f.encode(d._12),_13:j.encode(d._13),_14:m.encode(d._14),_15:b.encode(d._15),_16:p.encode(d._16),_17:y.encode(d._17),_18:h.encode(d._18),_19:v.encode(d._19)}}}},n.Tuple20=function(e,n,c,r,t,_,u,a,i,s,l,f,j,m,b,p,y,h,v,O){return{decoder:o.lazyMemo((function(){return d.object({_1:e.decoder,_2:n.decoder,_3:c.decoder,_4:r.decoder,_5:t.decoder,_6:_.decoder,_7:u.decoder,_8:a.decoder,_9:i.decoder,_10:s.decoder,_11:l.decoder,_12:f.decoder,_13:j.decoder,_14:m.decoder,_15:b.decoder,_16:p.decoder,_17:y.decoder,_18:h.decoder,_19:v.decoder,_20:O.decoder})})),encode:function(d){return{_1:e.encode(d._1),_2:n.encode(d._2),_3:c.encode(d._3),_4:r.encode(d._4),_5:t.encode(d._5),_6:_.encode(d._6),_7:u.encode(d._7),_8:a.encode(d._8),_9:i.encode(d._9),_10:s.encode(d._10),_11:l.encode(d._11),_12:f.encode(d._12),_13:j.encode(d._13),_14:m.encode(d._14),_15:b.encode(d._15),_16:p.encode(d._16),_17:y.encode(d._17),_18:h.encode(d._18),_19:v.encode(d._19),_20:O.encode(d._20)}}}}},409:function(e,n,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var d=c(410);n.DA=d,n.packageId="d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662"},410:function(e,n,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var d=c(411);n.Internal=d},411:function(e,n,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var d=c(412);n.Template=d},412:function(e,n,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var c in e)n.hasOwnProperty(c)||(n[c]=e[c])}(c(413))},413:function(e,n,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var d=c(85),o=c(96);c(72);n.Archive={decoder:o.lazyMemo((function(){return d.object({})})),encode:function(e){return{}}}},547:function(e,n,c){"use strict";c.r(n);var d,o,r=c(0),t=c.n(r),_=c(56),u=c.n(_),a=(c(295),c(296),c(45)),i=c(47),s=c.n(i),l=c(89),f=c(561),j=c(562),m=c(557),b=c(563),p=c(559),y=c(264);!function(e){e[e.DEV=0]="DEV",e[e.PROD_DABL=1]="PROD_DABL",e[e.PROD_OTHER=2]="PROD_OTHER"}(o||(o={}));var h=window.location.hostname.endsWith(".projectdabl.com")?o.PROD_DABL:o.PROD_OTHER,v=h===o.PROD_DABL?window.location.hostname.split(".")[0]:null!==(d="dfa-sandbox")?d:"dfa-sandbox",O=h===o.PROD_DABL?"https://api.projectdabl.com/data/".concat(v,"/"):void 0;var g=function(e){return{party:e,token:function(e){var n={"https://daml.com/ledger-api":{ledgerId:v,applicationId:"dfa",actAs:[e]}};return Object(y.encode)(n,"secret","HS256")}(e),ledgerId:v}},x=c(72),M=c.n(x),T=c(34),P=c(7),z=function(e){var n=e.onLogin,c=t.a.useState(""),d=Object(a.a)(c,2),_=d[0],u=d[1],i=Object(r.useCallback)(function(){var e=Object(l.a)(s.a.mark((function e(c){var d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d=new M.a({token:c.token,httpBaseUrl:O}),e.next=4,d.fetchByKey(T.User.User,c.party);case 4:if(e.t0=e.sent,null!==e.t0){e.next=8;break}return e.next=8,d.create(T.User.User,{username:c.party,requests:[]});case 8:n(c),e.next=14;break;case 11:e.prev=11,e.t1=e.catch(0),alert("Unknown error:\n".concat(e.t1));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}(),[n]),y=function(){var e=Object(l.a)(s.a.mark((function e(n){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c=g(_),e.next=4,i(c);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=new URL(window.location.toString()),n=e.searchParams.get("token");if(null!==n){var c=e.searchParams.get("party");if(null===c)throw Error("When 'token' is passed via URL, 'party' must be passed too.");e.search="",window.history.replaceState(window.history.state,"",e.toString()),i({token:n,party:c,ledgerId:v})}}),[i]),Object(P.jsx)(f.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(P.jsxs)(f.a.Column,{style:{maxWidth:450},children:[Object(P.jsx)(j.a,{as:"h1",textAlign:"center",size:"huge",style:{color:"#223668"},children:Object(P.jsx)(j.a.Content,{children:"Distrubuted Flight Approval"})}),Object(P.jsx)(m.a,{size:"large",className:"test-select-login-screen",children:Object(P.jsx)(b.a,{children:h!==o.PROD_DABL?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(m.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username",value:_,className:"test-select-username-field",onChange:function(e){return u(e.currentTarget.value)}}),Object(P.jsx)(p.a,{primary:!0,fluid:!0,className:"test-select-login-button",onClick:y,children:"Log in"})]}):Object(P.jsx)(p.a,{primary:!0,fluid:!0,onClick:function(){window.location.assign("https://login.projectdabl.com/auth/login?ledgerId=".concat(v))},children:"Log in with DABL"})})})]})})},A=c(560),D=c(555),q=c(46),w=c(556),R=c(26),k=c.n(R),U=c(564),I=c(166),L=function(){return Object(P.jsx)(U.a,{relaxed:!0,children:Object(R.useStreamQuery)(T.User.Request).contracts.map((function(e){var n=e.payload,c=n.sender,d=n.receiver,o=n.content;return Object(P.jsxs)(I.a,{className:"select-request-item",children:[Object(P.jsxs)("strong",{children:[c," \u2192 ",d,":"]})," ",o]},e.contractId)}))})},S=function(e){var n=e.admins,c=Object(R.useParty)(),d=t.a.useState(),o=Object(a.a)(d,2),r=o[0],_=o[1],u=t.a.useState(""),i=Object(a.a)(u,2),f=i[0],j=i[1],b=t.a.useState(!1),y=Object(a.a)(b,2),h=y[0],v=y[1],O=Object(R.useLedger)(),g=function(){var e=Object(l.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),void 0!==r){e.next=4;break}return e.abrupt("return");case 4:return v(!0),e.next=7,O.exerciseByKey(T.User.User.SendRequest,c,{receiver:r,content:f});case 7:j(""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert("Error sending message:\n".concat(JSON.stringify(e.t0)));case 13:return e.prev=13,v(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(n){return e.apply(this,arguments)}}();return Object(P.jsxs)(m.a,{onSubmit:g,children:[Object(P.jsx)(m.a.Dropdown,{fluid:!0,search:!0,selection:!0,className:"select-request-receiver",placeholder:"Select who you want to process your request",options:n.map((function(e){return{key:e.adminame,text:e.adminame,value:e.adminame}})),onChange:function(e){var n;return _(null!==(n=e.currentTarget.textContent)&&void 0!==n?n:void 0)}}),Object(P.jsx)(m.a.Input,{className:"select-request-content",placeholder:"Request content",value:f,onChange:function(e){return j(e.currentTarget.value)}}),Object(P.jsx)(p.a,{fluid:!0,className:"select-request-send-button",type:"submit",disabled:h||void 0===r||""===f,loading:h,content:"Send"})]})},E=function(e){var n=e.requests;return Object(P.jsx)(U.a,{relaxed:!0,children:n&&n.map((function(e){return Object(P.jsx)(U.a.Item,{header:"To:"+e.receiver,content:"Content: "+e.content})}))})},C=function(e){var n,c,d=e.credentials,o=Object(R.useParty)(),r=null===(n=Object(R.useFetchByKey)(T.User.User,(function(){return null===d||void 0===d?void 0:d.token}),[o]).contract)||void 0===n?void 0:n.payload,t=[{adminame:null===(c=Object(R.useStreamFetchByKeys)(T.User.Admin,(function(){return[o]}),[o]).contracts[0])||void 0===c?void 0:c.key,requests:[]}];return Object(P.jsx)(D.a,{children:Object(P.jsx)(f.a,{centered:!0,columns:2,children:Object(P.jsx)(f.a.Row,{stretched:!0,children:Object(P.jsxs)(f.a.Column,{children:[Object(P.jsx)(j.a,{as:"h1",size:"huge",color:"blue",textAlign:"center",style:{padding:"1ex 0em 0ex 0em"},children:r?"Welcome, ".concat(r.username,"!"):"Loading..."}),Object(P.jsxs)(b.a,{children:[Object(P.jsxs)(j.a,{as:"h2",children:[Object(P.jsx)(q.a,{name:"pencil square"}),Object(P.jsxs)(j.a.Content,{children:["Requests",Object(P.jsx)(j.a.Subheader,{children:"Send a Request"})]})]}),Object(P.jsx)(S,{admins:t}),Object(P.jsx)(w.a,{}),Object(P.jsx)(L,{})]}),Object(P.jsxs)(b.a,{children:[Object(P.jsxs)(j.a,{as:"h2",children:[Object(P.jsx)(q.a,{name:"globe"}),Object(P.jsx)(j.a.Content,{children:"My requests"})]}),Object(P.jsx)(w.a,{}),Object(P.jsx)(E,{requests:null===r||void 0===r?void 0:r.requests})]})]})})})})},B=function(e){var n=e.credentials,c=e.onLogout;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(A.a,{icon:!0,borderless:!0,children:Object(P.jsxs)(A.a.Menu,{position:"right",className:"test-select-main-menu",children:[Object(P.jsxs)(A.a.Item,{position:"right",children:["You are logged in as ",Object(R.useParty)(),"."]}),Object(P.jsx)(A.a.Item,{position:"right",active:!1,className:"test-select-log-out",onClick:c,icon:"log out"})]})}),Object(P.jsx)(C,{credentials:n})]})},N=function(){var e=t.a.useState(),n=Object(a.a)(e,2),c=n[0],d=n[1];return c?Object(P.jsx)(k.a,{token:c.token,party:c.party,httpBaseUrl:O,children:Object(P.jsx)(B,{credentials:c,onLogout:function(){return d(void 0)}})}):Object(P.jsx)(z,{onLogin:d})};u.a.render(Object(P.jsx)(N,{}),document.getElementById("root"))}},[[547,1,2]]]);
//# sourceMappingURL=main.47fc805d.chunk.js.map